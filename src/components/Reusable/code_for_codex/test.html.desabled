<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FORMA Hero â€“ Responsive Custom</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        overflow-x: hidden;
        background: #0a0a0a;
      }

      .hero {
        position: relative;
        width: 100%;
        height: 100vh;
        height: 100svh; /* ðŸ”¥ helps avoid extra scroll on mobile */
        overflow: hidden;
        background-color: #171717;
      }

      /* Loader */
      .loader {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 50;
        background: #171717;
      }

      .loader-spinner {
        width: 64px;
        height: 64px;
        border: 4px solid #34d399;
        border-top-color: transparent;
        border-radius: 50%;
      }

      /* Curtain */
      .curtain {
        position: absolute;
        inset: 0;
        background-color: #47614d;
        z-index: 40;
        transform: translateX(-100%);
      }

      /* Text layer */
      .text-container {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 50;
        overflow: hidden;
        pointer-events: none;
      }

      .hero-text {
        position: absolute;
        font-size: 7rem;
        font-weight: 400;
        color: white;
        letter-spacing: -0.04em;
        white-space: nowrap;
      }

      .hero-text span {
        display: inline-block;
      }

      /* Logo text (FORMA) */
      #logoText {
        font-weight: 300;
      }

      /* Scattered gradient word */
      .scatter-word {
        position: absolute;
        text-transform: uppercase;
        font-size: 16rem;
        font-weight: 300;
        text-align: center;
      }

      .scatter-letter {
        display: inline-block;
        position: relative;
        background: white;
        background-size: 300% 300%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .subtitle {
        position: absolute;
        top: 60%;
        left: 50%;
        transform: translateX(-85%);
        color: #ffffff;
        font-size: 2.7rem;
        letter-spacing: 0.25em;
        text-transform: uppercase;
        opacity: 0;
      }

      .subtitle-static {
        white-space: nowrap;
      }

      .subtitle-dynamic span {
        display: inline-block;
      }

      /* Hero video */
      .hero-video {
        position: absolute;
        inset: 0;
        z-index: 45;
        transform: scale(0);
        transform-origin: left bottom;
        opacity: 0;
        overflow: hidden;
      }

      .hero-video video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      .image-overlay {
        position: absolute;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.35);
      }

      /* ======== NEW UI ELEMENTS: MENU, CTA, NEWS ======== */

      .ui-menu {
        position: absolute;
        z-index: 60;
        text-transform: uppercase;
        letter-spacing: 0.25em;
        font-size: 1.9rem;
        color: #ffffff;
        pointer-events: auto;
        opacity: 0;
        font-weight: 300; /* ðŸ”¥ match logo text weight */
      }

      .ui-menu span {
        opacity: 1;
      }

      .ui-cta {
        position: absolute;
        z-index: 60;
        pointer-events: auto;
        opacity: 0;
      }

      .ui-cta button {
        all: unset;
        cursor: pointer;
        padding: 0.8rem 1.6rem;
        border-radius: 999px;
        background: #34d399;
        color: #020617;
        font-size: 0.9rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
      }

      .ui-cta button:hover {
        background: #4ade80;
      }

      .ui-news {
        position: absolute;
        z-index: 60;
        pointer-events: auto;
        opacity: 0;
      }

      .ui-news-card {
        min-width: 220px;
        max-width: 260px;
        padding: 0.9rem 1rem;
        border-radius: 14px;
        background: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(148, 163, 184, 0.4);
        color: #e5e7eb;
      }

      .ui-news-label {
        font-size: 0.7rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        opacity: 0.7;
        margin-bottom: 0.35rem;
      }

      .ui-news-title {
        font-size: 0.9rem;
        font-weight: 500;
        margin-bottom: 0.25rem;
      }

      .ui-news-meta {
        font-size: 0.75rem;
        opacity: 0.8;
        display: flex;
        justify-content: space-between;
        margin-top: 0.35rem;
      }

      /* ====================== RESPONSIVE TUNING ====================== */

      @media (max-width: 575.98px) {
        .hero-text,
        .scatter-word {
          font-size: 6rem;
          letter-spacing: 3px;
        }
        .scatter-word {
          font-size: 4rem;
          letter-spacing: 3px;
          white-space: nowrap;
        }

        .subtitle {
          font-size: 1.9rem; /* your bigger size */
          letter-spacing: 0.12em; /* ðŸ”» slightly reduced to fit */
          top: 50%;
          white-space: nowrap; /* ðŸ”¥ prevents wrapping to 2nd line */
        }

        .ui-menu {
          font-size: 1.55rem;
          letter-spacing: 0.18em;
          color: #ffffff;
        }

        .ui-cta button {
          font-size: 0.8rem;
          letter-spacing: 0.14em;
        }

        .ui-news-card {
          min-width: 190px;
          max-width: 210px;
        }
      }

      @media (min-width: 576px) and (max-width: 991.98px) {
        .hero-text,
        .scatter-word {
          font-size: 4.5rem;
        }

        .subtitle {
          font-size: 1.1rem;
          letter-spacing: 0.2em;
          top: 63%;
        }

        .ui-menu {
          font-size: 0.8rem;
        }
      }

      @media (min-width: 992px) and (max-width: 1439.98px) {
        .hero-text {
          font-size: 15rem;
          font-size: 500;
        }
        .scatter-word {
          font-size: 10rem;
          font-size: 500;

          .subtitle {
            font-size: 1.4rem;
            letter-spacing: 0.22em;
            top: 60%;
          }
        }
      }

      @media (min-width: 1440px) {
        .hero-text,
        .scatter-word {
          font-size: 7rem;
        }

        .subtitle {
          font-size: 1.6rem;
          letter-spacing: 0.26em;
          top: 57%;
        }
      }
    </style>
  </head>
  <body>
    <div class="hero">
      <!-- Loader -->
      <div class="loader">
        <div class="loader-spinner"></div>
      </div>

      <!-- Curtain -->
      <div class="curtain"></div>

      <!-- Text Container -->
      <div class="text-container">
        <h1 class="hero-text" id="logoText"></h1>
        <h1 class="scatter-word" id="scatterWord"></h1>

        <!-- Subtitle with changing last word -->
        <div class="subtitle" id="subtitle">
          <span class="subtitle-static">Something</span>
          <span class="subtitle-dynamic" id="subtitleDynamic"></span>
        </div>

        <div class="ui-menu" id="menuText">
          <span>Menu</span>
        </div>

        <div class="ui-cta" id="ctaBlock">
          <button>Start a Project</button>
        </div>

        <div class="ui-news" id="newsBlock">
          <div class="ui-news-card">
            <div class="ui-news-label">Latest</div>
            <div class="ui-news-title">New case study: Forma Studio</div>
            <div class="ui-news-meta">
              <span>2025</span>
              <span>Read â†’</span>
            </div>
          </div>
        </div>
      </div>

      <div class="hero-video">
        <video src="home_hero.mp4" muted loop playsinline></video>
        <div class="image-overlay"></div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
      window.addEventListener("load", () => {
        const loader = document.querySelector(".loader");
        const loaderSpinner = document.querySelector(".loader-spinner");
        const curtain = document.querySelector(".curtain");
        const heroVideo = document.querySelector(".hero-video");
        const videoEl = heroVideo.querySelector("video");

        const logoTextEl = document.getElementById("logoText");
        const scatterWordEl = document.getElementById("scatterWord");
        const subtitleEl = document.getElementById("subtitle");
        const subtitleDynamicEl = document.getElementById("subtitleDynamic");

        const menuEl = document.getElementById("menuText");
        const ctaEl = document.getElementById("ctaBlock");
        const newsEl = document.getElementById("newsBlock");

        function createCharSpans(element, text, extraClass) {
          element.innerHTML = "";
          const chars = text.split("");
          const spans = [];
          chars.forEach((ch) => {
            const span = document.createElement("span");
            span.textContent = ch;
            if (extraClass) span.classList.add(extraClass);
            element.appendChild(span);
            spans.push(span);
          });
          return spans;
        }

        const LOGO_TEXT = "FORMA";
        const SCATTER_TEXT = "CREATE";

        const logoSpans = createCharSpans(logoTextEl, LOGO_TEXT, "logo-letter");
        const scatterSpans = createCharSpans(
          scatterWordEl,
          SCATTER_TEXT,
          "scatter-letter"
        );

        // Changing subtitle words
        const changingWords = ["TIMELESS", "BOLD", "HUMAN", "ICONIC"];

        function animateSubtitleWord(index) {
          if (!subtitleDynamicEl) return;

          const text = changingWords[index];
          subtitleDynamicEl.innerHTML = "";
          const chars = text.split("");
          const spans = [];

          chars.forEach((ch) => {
            const span = document.createElement("span");
            span.textContent = ch;
            subtitleDynamicEl.appendChild(span);
            spans.push(span);
          });

          // In animation
          gsap.fromTo(
            spans,
            { opacity: 0, y: 20, filter: "blur(10px)" },
            {
              opacity: 1,
              y: 0,
              filter: "blur(0px)",
              stagger: 0.08,
              duration: 1.1,
              ease: "power2.out",
              onComplete: () => {
                // Out animation after a pause
                gsap.to(spans, {
                  opacity: 0,
                  y: -20,
                  filter: "blur(10px)",
                  stagger: 0.08,
                  delay: 1.8,
                  duration: 0.9,
                  ease: "power2.in",
                  onComplete: () => {
                    const nextIndex = (index + 1) % changingWords.length;
                    animateSubtitleWord(nextIndex);
                  },
                });
              },
            }
          );
        }

        gsap.set(scatterWordEl, { xPercent: -50, left: "50%", top: "50%" });

        const hero = document.querySelector(".hero");
        const heroRect = hero.getBoundingClientRect();

        const vw = heroRect.width;
        const vh = heroRect.height; // ðŸ”¥ now all positions are based on hero, not browser chrome

        let sizeLabel;
        if (vw < 576) {
          sizeLabel = "small";
        } else if (vw < 992) {
          sizeLabel = "medium";
        } else if (vw < 1440) {
          sizeLabel = "large";
        } else {
          sizeLabel = "xlarge";
        }

        let logoTargetX,
          logoTargetY,
          assembleY,
          menuTargetX,
          menuTargetY,
          ctaTargetX,
          ctaTargetY,
          newsTargetX,
          newsTargetY;

        if (sizeLabel === "small") {
          // ðŸ”¥ mobile: logo position (kept same)
          logoTargetX = -vw / 2 + 70;
          logoTargetY = -vh / 2 + 25;
          assembleY = -110;

          // ðŸ”¥ mobile: menu mirrored to logo (same distance from top + right)
          menuTargetX = vw / 2 - 70;
          menuTargetY = logoTargetY;

          // ðŸ”¥ mobile: CTA & news ~50px from bottom & sides
          ctaTargetX = -vw / 2 + 100;
          ctaTargetY = vh / 2 - 70;

          newsTargetX = vw / 2 - 115;
          newsTargetY = vh / 2 - 80;
        } else if (sizeLabel === "medium") {
          // ðŸ”¥ mobile: logo position (kept same)
          logoTargetX = -vw / 2 + 70;
          logoTargetY = -vh / 2 + 25;
          assembleY = -110;

          // ðŸ”¥ mobile: menu mirrored to logo (same distance from top + right)
          menuTargetX = vw / 2 - 70;
          menuTargetY = logoTargetY;

          // ðŸ”¥ mobile: CTA & news ~50px from bottom & sides
          ctaTargetX = -vw / 2 + 100;
          ctaTargetY = vh / 2 - 50;

          newsTargetX = vw / 2 - 100;
          newsTargetY = vh / 2 - 90;

          // laptop: mirror menu to logo
          menuTargetX = vw / 2 - 90;
          menuTargetY = logoTargetY;

          ctaTargetX = -vw / 2 + 120;
          ctaTargetY = vh / 2 - 90;

          newsTargetX = vw / 2 - 140;
          newsTargetY = vh / 2 - 100;
        } else {
          logoTargetX = -vw / 2 + 110;
          logoTargetY = -vh / 2 + 35;
          assembleY = -220;

          // xlarge: mirror menu to logo
          menuTargetX = vw / 2 - 110;
          menuTargetY = logoTargetY;

          ctaTargetX = -vw / 2 + 140;
          ctaTargetY = vh / 2 - 100;

          newsTargetX = vw / 2 - 160;
          newsTargetY = vh / 2 - 110;
        }

        const MAX_CONTAINER_WIDTH = 800;
        const MAX_CONTAINER_HEIGHT = 600;

        let scaleFactor;
        let heightFraction;

        switch (sizeLabel) {
          case "small":
            scaleFactor = 0.7;
            heightFraction = 0.85;
            break;
          case "medium":
            scaleFactor = 0.9;
            heightFraction = 0.75;
            break;
          case "large":
            scaleFactor = 1.2;
            heightFraction = 0.7;
            break;
          case "xlarge":
          default:
            scaleFactor = 1.4;
            heightFraction = 0.7;
            break;
        }

        const containerWidth = Math.min(
          MAX_CONTAINER_WIDTH * scaleFactor,
          vw * 0.9
        );
        const containerHeight = Math.min(
          MAX_CONTAINER_HEIGHT * scaleFactor,
          vh * heightFraction
        );

        let initialScale;
        let marginX;
        let marginY;
        let minDistance;

        if (sizeLabel === "small") {
          initialScale = 1.1;
          marginX = 40;
          marginY = 50;
          minDistance = 80;
        } else if (sizeLabel === "medium") {
          initialScale = 1.3;
          marginX = 60;
          marginY = 70;
          minDistance = 100;
        } else {
          initialScale = 1.5;
          marginX = 70;
          marginY = 80;
          minDistance = 130;
        }

        const halfW = containerWidth / 2 - marginX;
        const halfH = containerHeight / 2 - marginY;

        function generateNonOverlappingPositions(count, halfW, halfH, minDist) {
          const positions = [];
          const maxAttempts = 2000;
          let attempts = 0;
          const minDistSq = minDist * minDist;

          while (positions.length < count && attempts < maxAttempts) {
            attempts++;

            const x = (Math.random() * 2 - 1) * halfW;
            const y = (Math.random() * 2 - 1) * halfH;

            let ok = true;
            for (let p of positions) {
              const dx = x - p.x;
              const dy = y - p.y;
              const distSq = dx * dx + dy * dy;
              if (distSq < minDistSq) {
                ok = false;
                break;
              }
            }

            if (ok) positions.push({ x, y });
          }

          while (positions.length < count) {
            const x = (Math.random() * 2 - 1) * halfW;
            const y = (Math.random() * 2 - 1) * halfH;
            positions.push({ x, y });
          }

          return positions;
        }

        const scatterPositions = generateNonOverlappingPositions(
          scatterSpans.length,
          halfW,
          halfH,
          minDistance
        );

        gsap.set(logoTextEl, { opacity: 0 });
        gsap.set(scatterSpans, {
          x: 0,
          y: 0,
          opacity: 0,
          scale: 1,
        });

        if (videoEl) {
          videoEl.pause();
          videoEl.currentTime = 0;
        }

        gsap.set(menuEl, {
          x: menuTargetX + 80,
          y: menuTargetY,
        });

        gsap.set(ctaEl, {
          x: ctaTargetX,
          y: ctaTargetY + 80,
        });

        gsap.set(newsEl, {
          x: newsTargetX + 120,
          y: newsTargetY,
        });

        const LOADER_SPIN_DURATION = 1;
        const LOGO_ENTRANCE_DURATION = 0.8;
        const LOGO_MOVE_DURATION = 1.1;
        const VIDEO_EXPAND_DURATION = 1.5;
        const SCATTER_FADE_DURATION = 0.4;
        const SCATTER_ASSEMBLE_DURATION = 1.5;
        const SUBTITLE_DELAY_AFTER_ASSEMBLY = 0.02;

        const tl = gsap.timeline();

        tl.to(loaderSpinner, {
          rotation: 360,
          duration: LOADER_SPIN_DURATION,
          ease: "linear",
          repeat: 1,
        })
          .to(loader, {
            scale: 0.8,
            opacity: 0,
            duration: 0.4,
            ease: "power2.in",
          })
          .to(
            curtain,
            {
              x: "0%",
              duration: 1.2,
              ease: "power3.inOut",
            },
            "-=0.1"
          )
          .fromTo(
            logoSpans,
            {
              y: vh * 0.7,
            },
            {
              y: 0,
              duration: LOGO_ENTRANCE_DURATION,
              ease: "back.out(1.4)",
              stagger: 0.08,
              onStart: () => gsap.set(logoTextEl, { opacity: 1 }),
            },
            "-=0.3"
          )
          .to(logoSpans, { y: 0, duration: 0.15 })
          .to(
            logoTextEl,
            {
              x: logoTargetX,
              y: logoTargetY,
              fontSize: "2rem",
              duration: LOGO_MOVE_DURATION,
              ease: "power3.inOut",
            },
            "logoMove"
          )
          .to(
            heroVideo,
            {
              scale: 1,
              opacity: 1,
              duration: VIDEO_EXPAND_DURATION,
              ease: "power3.out",
              onStart: () => {
                if (videoEl) {
                  videoEl.currentTime = 0;
                  videoEl.play();
                }
              },
            },
            "logoMove+=" + LOGO_MOVE_DURATION / 2
          )
          .set(
            scatterSpans,
            {
              x: (i) => scatterPositions[i].x,
              y: (i) => scatterPositions[i].y,
              scale: initialScale,
              opacity: 0,
            },
            "videoScatter"
          )
          .to(
            scatterSpans,
            {
              opacity: 1,
              duration: SCATTER_FADE_DURATION,
              stagger: 0.05,
            },
            "videoScatter"
          )
          .to(
            scatterSpans,
            {
              x: 0,
              y: assembleY,
              rotation: 0,
              scale: 1,
              duration: SCATTER_ASSEMBLE_DURATION,
              stagger: 0.08,
              ease: "elastic.out(1, 0.5)",
            },
            "logoMove+=" + (LOGO_MOVE_DURATION / 2 + VIDEO_EXPAND_DURATION)
          )
          .add("postAssemble")
          .to(
            menuEl,
            {
              x: menuTargetX,
              y: menuTargetY,
              opacity: 1,
              duration: 0.7,
              ease: "power3.out",
            },
            "postAssemble-=0"
          )
          .to(
            ctaEl,
            {
              x: ctaTargetX,
              y: ctaTargetY,
              opacity: 1,
              duration: 0.7,
              ease: "power3.out",
            },
            "postAssemble-=0"
          )
          .to(
            newsEl,
            {
              x: newsTargetX,
              y: newsTargetY,
              opacity: 1,
              duration: 0.7,
              ease: "power3.out",
            },
            "postAssemble+=0"
          )
          .to(
            subtitleEl,
            {
              opacity: 1,
              y: -10,
              duration: 1,
              ease: "power2.out",
              onComplete: () => {
                // start looping changing text once subtitle is in
                animateSubtitleWord(0);
              },
            },
            "postAssemble+=" + SUBTITLE_DELAY_AFTER_ASSEMBLY
          );
      });
    </script>
  </body>
</html>


<div className="mh-hero-video" ref={heroVideoRef}>
        <video 
          ref={videoElRef}
          src="home_hero.mp4" 
          muted 
          loop 
          playsInline
        />